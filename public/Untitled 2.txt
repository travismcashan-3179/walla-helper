<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WallaWords Helper</title>
  <link rel="stylesheet" href="style.css">
  <!-- Include Papa Parse from CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
</head>
<body>
  <h2>WallaWords Helper</h2>
  
  <div id="mainContainer">
    <!-- Left Column: Grid -->
    <div class="column" id="gridContainer">
      <table id="wordGrid">
        <tbody>
          <!-- Grid rows will be generated by JS -->
        </tbody>
      </table>
      <button id="clearGridButton" onclick="clearGrid()">Clear Grid</button>
    </div>
    
    <!-- Middle Column: Sentences & Word Details -->
    <div class="column">
      <div id="sentencesPanel">
        <div class="sentence-group">
          <div class="sentence-title">Vertical Sentences</div>
          <div id="verticalSentences" class="sentencesText"></div>
        </div>
        <div class="sentence-group">
          <div class="sentence-title">Horizontal Sentences</div>
          <div id="horizontalSentences" class="sentencesText"></div>
        </div>
      </div>
      <div id="wordDetailsPanel">
        <strong>Word Details:</strong> Double-click a word tile to view details.
        <br><button onclick="analyzeWord(selectedCell)">Analyze Word</button>
      </div>
    </div>
    
    <!-- Right Column: AI Helper Analysis Panel with Q&A -->
    <div class="column" id="aiAnalyzerPanel">
      <h3>AI Helper Analysis</h3>
      <input type="text" id="aiQuestion" placeholder="Ask ChatGPT a question" style="width:90%; padding:8px; margin-bottom:10px;">
      <button onclick="askQuestion()">Ask ChatGPT</button>
      <div id="openaiAnalysis"></div>
    </div>
  </div>
  
  <footer>
    <p>
      Instructions: Enter words into the grid (each cell is 100×100px). Your input is automatically saved.
      Vertical sentences (with punctuation removed) and horizontal sentences (preserving punctuation) are generated in the middle column.
      Double-click a cell to view its word details. In the Word Details panel, synonyms (generated via ChatGPT) are shown as clickable tags—double-click a tag to replace the word.
      Use the "Analyze Word" button (under the Word Details box) to get AI analysis for the selected word.
      In the AI Helper Analysis panel, you can ask ChatGPT a question.
    </p>
  </footer>
  
  <script src="script.js"></script>
</body>
</html>
